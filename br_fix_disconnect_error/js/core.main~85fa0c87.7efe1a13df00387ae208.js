(self.webpackChunk=self.webpackChunk||[]).push([[1982],{83902:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(60216),a=n.n(r),o=n(40841),c=n.n(o),i=n(32735),l=n(4390),s=n(53146),u=n(32577),_=n(75672),d=n(20374),m=n(17502),f=n(53151);var p=function(e){var t=e.notifications,n=e.toggleDialog;return i.createElement(i.Fragment,null,t.map((function(e){return i.createElement("div",{className:"notifications-item",key:e.key},i.createElement(s.Text,{as:"h2",className:"notifications-item__title",weight:"bold",size:"xs",line_height:"m",color:"prominent"},e.type&&i.createElement(s.Icon,{icon:["contract_sold","info"].includes(e.type)?"IcAlertInfo":"IcAlert".concat((0,m.toTitleCase)(e.type)),className:c()("notifications-item__title-icon",(t={},r="notifications-item__title-icon--".concat(e.type),a=e.type,r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t))}),e.header),i.createElement("div",{className:"notifications-item__message"},e.message),i.createElement("div",{className:"notifications-item__action"},!(0,m.isEmptyObject)(e.action)&&i.createElement(i.Fragment,null,e.action.route?i.createElement(u.CG,{onClick:n,active_class:"notifications-item",className:c()("dc-btn","dc-btn--secondary","notifications-item__cta-button"),to:e.action.route},i.createElement(s.Text,{weight:"bold",size:"xxs"},e.action.text)):i.createElement(s.Button,{className:c()("dc-btn--secondary","notifications-item__cta-button"),onClick:e.action.onClick},i.createElement(s.Text,{weight:"bold",size:"xxs"},e.action.text)))));var t,r,a})))},g=i.forwardRef((function(e,t){var n=e.notifications,r=e.toggleDialog,a=!n.length;return i.createElement("div",{className:"notifications-dialog",ref:t},i.createElement("div",{className:"notifications-dialog__header"},i.createElement(s.Text,{as:"h2",className:"notifications-dialog__header-text",size:"s",weight:"bold",color:"prominent",styles:{lineHeight:"1.6rem"}},i.createElement(d.Localize,{i18n_default_text:"Notifications"}))),i.createElement("div",{className:c()("notifications-dialog__content",{"notifications-dialog__content--empty":a})},i.createElement(s.ThemedScrollbars,{is_bypassed:(0,m.isMobile)()||a},a?i.createElement(f.X,null):i.createElement(p,{notifications:n,toggleDialog:r}))))}));g.displayName="NotificationListWrapper";var y=function(e){var t=e.is_visible,n=e.notifications,r=e.toggleDialog,a=i.useRef();return(0,s.useOnClickOutside)(a,(function(e){var n,o=!e.target.classList.contains("notifications-toggle__icon-wrapper");null!==(n=a.current)&&void 0!==n&&n.contains(e.target)||!t||!o||r()})),i.createElement(i.Fragment,null,i.createElement(s.MobileWrapper,null,i.createElement(s.MobileDialog,{portal_element_id:"modal_root",title:(0,d.localize)("Notifications"),wrapper_classname:"notifications-mobile-dialog",visible:t,onClose:r},i.createElement(g,{notifications:n,ref:a,toggleDialog:r}))),i.createElement(s.DesktopWrapper,null,i.createElement(l.Z,{in:t,classNames:{enter:"notifications-dialog--enter",enterDone:"notifications-dialog--enter-done",exit:"notifications-dialog--exit"},timeout:150,unmountOnExit:!0},i.createElement(g,{notifications:n,ref:a,toggleDialog:r}))))};y.propTypes={is_visible:a().bool,notifications:a().array,toggleDialog:a().func};const h=(0,_.$j)((function(e){var t=e.ui,n=e.common;return{notifications:t.filtered_notifications,app_routing_history:n.app_routing_history,removeNotificationByKey:t.removeNotificationByKey,removeNotificationMessage:t.removeNotificationMessage}}))(y)},78568:(e,t,n)=>{"use strict";n.d(t,{FX:()=>a,GH:()=>o,Sj:()=>c});var r=n(20374),a={SUCCESS:1,WARN:0,DANGER:-1,PENDING:-2},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.account_residence,a=void 0===n?"":n,o=arguments.length>2?arguments[2]:void 0;if("im"===a)return(0,r.localize)("Deriv account");switch(e){case"svg":return(0,r.localize)("Deriv account");case"iom":return o.is_united_kingdom?(0,r.localize)("Deriv Gaming"):(0,r.localize)("Deriv Synthetic");case"malta":return o.is_united_kingdom||o.is_rest_of_eu||o.is_belgium?(0,r.localize)("Options"):(0,r.localize)("Deriv Synthetic");case"maltainvest":return o.is_united_kingdom||o.is_france||o.is_other_eu||o.is_rest_of_eu?(0,r.localize)("Multipliers"):(0,r.localize)("Deriv Financial");default:return(0,r.localize)("Deriv")}},c=function(e){var t=e.landing_company_shortcode,n=void 0===t?"":t,r=e.is_fully_authenticated,o=void 0!==r&&r,c=e.is_age_verified,i=void 0!==c&&c,l=e.is_isle_of_man_residence,s=void 0!==l&&l,u=e.is_belgium_residence;return"svg"===n||s||void 0!==u&&u?a.SUCCESS:"iom"===n?o?a.SUCCESS:i?a.WARN:a.DANGER:a.SUCCESS}},27888:(e,t,n)=>{"use strict";n.d(t,{Z:()=>gt});var r=n(40841),a=n.n(r),o=n(32735),c=n(13799),i=n(53146),l=n(17502),s=n(20374),u=n(75672),_=n(60216),d=n.n(_),m=n(19465),f=n.n(m);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const g=function(e){return o.createElement("div",{className:"account-signup-loader"},o.createElement(i.Loading,p({},e,{is_fullscreen:!1})))};var y=n(44066);const h=function(e){var t=e.onSubmit;return o.createElement(y.Formik,{initialValues:{},onSubmit:t,validateOnMount:!0},(function(e){var t=e.handleSubmit;return o.createElement(i.AutoHeightWrapper,{default_height:200},(function(e){var n=e.setRef,r=e.height;return o.createElement("form",{ref:n,onSubmit:t,className:"accept-risk__form"},o.createElement(i.Div100vhContainer,{className:"details-form",height_offset:"40px",is_disabled:(0,l.isDesktop)()},o.createElement(i.ThemedScrollbars,{autoHide:!(window.innerHeight<890),height:r-77},o.createElement("div",{className:"accept-risk__container"},o.createElement("div",{className:"accept-risk__header"},o.createElement(i.Text,{weight:"bold",size:"xs"},(0,s.localize)("Warning"))),o.createElement(i.Text,{as:"p",size:"xs"},o.createElement(s.Localize,{i18n_default_text:"Our products and services may expose you to risks that can be substantial at times, including the risk of losing your entire investment. Please note that by clicking <0>Continue</0>, you'll be accepting these risks.",components:[o.createElement("strong",{key:0})]}))))),o.createElement("input",{name:"accept_risk",value:"1",type:"hidden"}),o.createElement(i.Modal.Footer,{has_separator:!0,is_bypassed:(0,l.isMobile)()},o.createElement(i.FormSubmitButton,{is_absolute:(0,l.isMobile)(),label:(0,s.localize)("Continue")})))}))}))};var v=n(78247),b=n.n(v),E=n(86245),w=n.n(E),S=n(80046),A=n.n(S),C=n(7335),x=n.n(C),O=n(1537),z=n.n(O),N=n(71711),k=n.n(N),I=n(39979),j=n.n(I),M=n(59403),T=n.n(M);const L=(0,u.$j)((function(e){var t=e.client,n=e.ui;return{currencies:t.currencies_list,has_currency:!!t.currency,has_real_account:t.has_active_real_account,legal_allowed_currencies:t.upgradeable_currencies,real_account_signup:n.real_account_signup,resetRealAccountSignupParams:n.resetRealAccountSignupParams,selectable_currencies:t.selectable_currencies,available_crypto_currencies:t.available_crypto_currencies,real_account_signup_target:n.real_account_signup_target,is_dxtrade_allowed:t.is_dxtrade_allowed,is_mt5_allowed:t.is_mt5_allowed,has_fiat:t.has_fiat,accounts:t.accounts,is_eu:t.is_eu}}))(T());var R=n(62762),P=n.n(R);const D=(0,u.$j)((function(e){var t=e.client;return{is_gb_residence:"gb"===t.residence,fetchStatesList:t.fetchStatesList,states_list:t.states_list}}))(P());var F=n(67027),W=n.n(F);const U=(0,u.$j)((function(e){var t=e.client;return{is_gb_residence:"gb"===t.residence,fetchStatesList:t.fetchStatesList,states_list:t.states_list}}))(W());function B(e){return function(e){if(Array.isArray(e))return V(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $=function(e){return"samoa"!==e.real_account_signup_target},H=function(e){return[].concat(B($(e)?[b()(e,L)]:[]),B($(e)?[w()(e,z())]:[]),B($(e)?[A()(e,U)]:[]),B("maltainvest"===e.real_account_signup_target?[x()(e,D)]:[]),[k()(e,j())])};function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K(e,t,n,r,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function q(e){return function(e){if(Array.isArray(e))return ee(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Q(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||Q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){if(e){if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ee(e,t):void 0}}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var te=function(e){var t=e.has_target,n=e.has_real_account,r=e.items,a=e.getCurrentStep,c=e.getTotalSteps,l=a()-1,u=r[l].header?r[l].header.title:"";return o.createElement(o.Fragment,null,(!n||t)&&o.createElement(o.Fragment,null,o.createElement(i.DesktopWrapper,null,o.createElement(i.FormProgress,{steps:r,current_step:l})),o.createElement(i.MobileWrapper,null,o.createElement("div",{className:"account-wizard__header-steps"},o.createElement(i.Text,{as:"h4",styles:{lineHeight:"20px",color:"var(--brand-red-coral)"},size:"xs",weight:"bold",className:"account-wizard__header-steps-title"},o.createElement(s.Localize,{i18n_default_text:"Step {{step}}: {{step_title}} ({{step}} of {{steps}})",values:{step:l+1,steps:c(),step_title:u}}))))))},ne=function(e){var t=J(o.useState(void 0),1)[0],n=J(o.useState(!1),2),r=n[0],c=n[1],s=J(o.useState(""),2),u=s[0],_=s[1],d=J(o.useState([]),2),m=d[0],p=d[1],y=J(o.useState([]),2),v=y[0],b=y[1],E=J(o.useState(!1),2),w=E[0],S=E[1];o.useEffect((function(){e.fetchStatesList();var t=(0,l.makeCancellablePromise)(e.fetchResidenceList()),n=t.cancel,r=t.promise,a=(0,l.makeCancellablePromise)(e.fetchFinancialAssessment()),o=a.cancel,i=a.promise;return Promise.all([r,i]).then((function(){b((function(t){return t.length?t:H(e)})),p(A()),c(!0)})),function(){n(),o()}}),[]),o.useEffect((function(){if(m.length>0){var e=q(v);m.forEach((function(t,n){t instanceof Object&&(e[n].form_value=t)})),b(e),p([])}}),[m]),o.useEffect((function(){if(e.residence_list.length){C(e.residence_list).then((function(t){var n,r;(r=v.length?v:H(e)).length>1&&"phone"in(null===(n=r[1])||void 0===n?void 0:n.form_value)&&(r[1].form_value.phone=r[1].form_value.phone||t||"",b(r))}))}}),[e.residence_list]);var A=function(){var e=localStorage.getItem("real_account_signup_wizard");try{return JSON.parse(e)||[]}catch(e){return[]}finally{localStorage.removeItem("real_account_signup_wizard")}},C=function(){var t,n=(t=regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((r=n.find((function(t){return t.value===e.residence})))&&r.phone_idd){t.next=3;break}return t.abrupt("return","");case 3:return t.abrupt("return","+".concat(r.phone_idd));case 4:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function c(e){K(o,r,a,c,i,"next",e)}function i(e){K(o,r,a,c,i,"throw",e)}c(void 0)}))});return function(e){return n.apply(this,arguments)}}(),x=function(){return v.map((function(e){return e.form_value})).reduce((function(t,n){var r=f()(new Map(Object.entries(n))),a=Object.keys(r).reduce((function(e,t){return e[t]="string"==typeof r[t]?r[t].trim():r[t],e}),{});return a.date_of_birth&&(a.date_of_birth=(0,l.toMoment)(a.date_of_birth).format("YYYY-MM-DD")),a.place_of_birth&&(a.place_of_birth=a.place_of_birth?(0,l.getLocation)(e.residence_list,a.place_of_birth,"value"):""),a.citizen&&(a.citizen=a.citizen?(0,l.getLocation)(e.residence_list,a.citizen,"value"):""),a.tax_residence&&(a.tax_residence=a.tax_residence?(0,l.getLocation)(e.residence_list,a.tax_residence,"value"):a.tax_residence),X(X({},t),a)}))},O=function(){_("")},z=function(t,n){t-1<0?e.onClose():(n(),O())},N=function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,r=X({},x());return null===(t=r)||void 0===t||delete t.tax_identification_confirm,n&&(r=X(X({},r),n)),e.realAccountSignup(r)},k=function(e,t,n,r){I(e,t),O(),e+1>=v.length?M():r()},I=function(e,t){var n=Object.assign([],v);n[e].form_value=t,b(n)},j=function(e,t){return e?v[t][e]:v[t]},M=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;e.setLoading(!0),N(t).then((function(t){e.setIsRiskWarningVisible(!1),"maltainvest"===e.real_account_signup_target?e.onFinishSuccess(t.new_account_maltainvest.currency.toLowerCase()):"samoa"===e.real_account_signup_target?e.onOpenWelcomeModal(t.new_account_samoa.currency.toLowerCase()):e.onFinishSuccess(t.new_account_real.currency.toLowerCase())})).catch((function(t){"show risk disclaimer"===t.code?(e.setIsRiskWarningVisible(!0),S(!0)):e.onError(t,v)})).finally((function(){return e.setLoading(!1)}))};if(e.is_loading)return o.createElement(g,null);if(w)return o.createElement(h,{onSubmit:function(){M({accept_risk:1})}});if(!r)return null;if(!t){var T=v.map((function(t,n){var r=function(t){var n=j("passthrough",t),r=j("props",t)||{};return n&&n.length&&(n.forEach((function(t){Object.assign(r,G({},t,e[t]))})),r.bypass_to_personal=m.length>0),r}(n),a=t.body;return o.createElement(a,Y({value:j("form_value",n),index:n,onSubmit:k,onCancel:z,onSave:I,has_currency:e.has_currency,form_error:u},r,{key:n}))})),L=o.createElement("div",null);return"samoa"!==e.real_account_signup_target&&(L=o.createElement(te,{has_real_account:e.has_real_account,items:v,has_currency:e.has_currency,has_target:"manage"!==e.real_account_signup_target,setIsRiskWarningVisible:e.setIsRiskWarningVisible})),o.createElement(i.Wizard,{nav:L,className:a()("account-wizard",{"account-wizard--set-currency":!e.has_currency,"account-wizard--deriv-crypto":"samoa"===e.real_account_signup_target})},T)}var R=t;return o.createElement(R,null)};ne.propTypes={fetchResidenceList:d().func,has_currency:d().bool,has_real_account:d().bool,onError:d().func,onLoading:d().func,onFinishSuccess:d().func,onOpenWelcomeModal:d().func,realAccountSignup:d().func,residence:d().string,residence_list:d().array};const re=(0,u.$j)((function(e){var t=e.client,n=e.ui;return{account_settings:t.account_settings,is_fully_authenticated:t.is_fully_authenticated,realAccountSignup:t.realAccountSignup,has_real_account:t.has_active_real_account,upgrade_info:t.upgrade_info,real_account_signup_target:n.real_account_signup_target,has_currency:!!t.currency,residence:t.residence,residence_list:t.residence_list,states_list:t.states_list,fetchStatesList:t.fetchStatesList,fetchResidenceList:t.fetchResidenceList,refreshNotifications:t.refreshNotifications,fetchFinancialAssessment:t.fetchFinancialAssessment,financial_assessment:t.financial_assessment}}))(ne);var ae=n(75594),oe=n.n(ae),ce=n(71857),ie=n.n(ce),le=function(){return[o.createElement(s.Localize,{key:0,i18n_default_text:"Choose your preferred cryptocurrency"}),o.createElement(s.Localize,{key:1,i18n_default_text:"You can open an account for each cryptocurrency."}),o.createElement(s.Localize,{key:2,i18n_default_text:"Add a real account"}),o.createElement(s.Localize,{key:3,i18n_default_text:"Choose a currency you would like to trade with."}),o.createElement(s.Localize,{key:4,i18n_default_text:"Choose a currency"})]},se=function(e){var t=e.heading,n=e.subheading;return o.createElement(o.Fragment,null,o.createElement(i.Text,{as:"h1",color:"prominent",align:"center",weight:"bold",className:"add-crypto-currency__title"},t),o.createElement(i.Text,{as:"h3",size:"xxs",color:"prominent",align:"center",className:"add-crypto-currency__sub-title"},n))},ue="crypto",_e=function(e){var t=e.available_crypto_currencies,n=e.form_error,r=e.has_fiat,a=e.is_add_fiat,c=e.legal_allowed_currencies,u=e.onClickBack,_=e.onSubmit,d=e.should_show_cancel,m=e.should_show_crypto_only,f=e.should_show_fiat_only,p=e.value,g=e.hasNoAvailableCrypto,h=function(){return(0,l.reorderCurrencies)(c.filter((function(e){return"fiat"===e.type})))},v=function(){return(0,l.reorderCurrencies)(c.filter((function(e){return e.type===ue})),ue)},b=function(){return!r&&!m},E=function(e){return-1===t.map((function(e){return e.value})).indexOf(e.value)};return o.createElement(y.Formik,{initialValues:{currency:p.currency},onSubmit:function(e,t){_(!1,e,t.setSubmitting)}},(function(e){var r=e.handleSubmit,c=e.values,_=e.errors,m=e.touched,p=e.isSubmitting;return o.createElement("form",{onSubmit:r},!b()&&o.createElement(se,{heading:le()[0],subheading:le()[1]}),b()&&o.createElement(se,{heading:a?le()[4]:le()[2],subheading:le()[3]}),b()&&o.createElement(o.Fragment,null,o.createElement(i.ThemedScrollbars,null,o.createElement(oe(),{id:"fiat_currency",is_fiat:!0,className:"currency-selector__radio-group currency-selector__radio-group--with-margin",value:c.currency,error:_.currency,touched:m.currency,is_title_enabled:b(),item_count:h().length},h().map((function(e){return o.createElement(y.Field,{key:e.value,component:ie(),name:"currency",id:e.value,label:e.name})}))))),b()&&o.createElement(i.Text,{as:"p",color:"prominent",size:"xxs",align:"center",className:"currency-selector__deposit-warn"},o.createElement(s.Localize,{i18n_default_text:"You’ll not be able to change currency once you have made a deposit."})),g()&&o.createElement("div",{className:"account-wizard--disabled-message"},o.createElement(i.Text,{as:"p",align:"center",size:"xxs",className:"account-wizard--disabled-message-description"},(0,s.localize)("You already have an account for each of the cryptocurrencies available on {{deriv}}.",{deriv:l.website_name}))),!f&&(0!==t.length?o.createElement(i.ThemedScrollbars,null,o.createElement(oe(),{id:"crypto_currency",className:"currency-selector__radio-group currency-selector__radio-group--with-margin",label:(0,s.localize)("Cryptocurrencies"),value:c.currency,error:_.currency,touched:m.currency,is_title_enabled:b(),item_count:v().length},v().map((function(e){return o.createElement(y.Field,{key:e.value,component:ie(),name:"currency",id:e.value,label:e.name,selected:E(e)})})))):o.createElement(i.ThemedScrollbars,null,o.createElement(oe(),{id:"crypto_currency",className:"currency-selector__radio-group currency-selector__radio-group--with-margin",label:(0,s.localize)("Cryptocurrencies"),is_title_enabled:b(),item_count:v().length},v().map((function(e){return o.createElement(y.Field,{key:e.value,component:ie(),name:"currency",id:e.value,label:e.name,selected:!0})}))))),o.createElement(i.FormSubmitButton,{className:"currency-selector__button",is_disabled:p||!c.currency,label:(0,s.localize)("Add account"),is_absolute:!(0,l.isMobile)(),form_error:n,has_cancel:d,cancel_label:(0,s.localize)("Back"),cancel_icon:o.createElement(i.Icon,{icon:"IcArrowLeftBold"}),onCancel:function(){return u()}}))}))};_e.propTypes={available_crypto_currencies:d().array,legal_allowed_currencies:d().array,has_fiat:d().bool,hasNoAvailableCrypto:d().func,form_error:d().string,onSubmit:d().func,should_show_cancel:d().bool,should_show_crypto_only:d().bool,should_show_fiat_only:d().bool,value:d().shape({crypto:d().string,fiat:d().string})};const de=(0,u.$j)((function(e){var t=e.client,n=e.ui;return{available_crypto_currencies:t.available_crypto_currencies,legal_allowed_currencies:t.upgradeable_currencies,has_fiat:t.has_fiat,should_show_cancel:n.should_show_cancel}}))(_e);function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ge=function(e,t){var n=[];return e.forEach((function(e){var r;n.push(fe(fe({},e),{},{has_payment_agent:!(null==t||null===(r=t.paymentagent_list)||void 0===r||!r.list.filter((function(t){return t.currencies===e.value})).length)}))})),n};function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return he(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return he(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ve="crypto",be=function(e){var t=e.all_payment_agent_list,n=e.available_crypto_currencies,r=e.has_fiat,c=e.legal_allowed_currencies,u=e.onSubmit,_=e.openRealAccountSignup,d=e.setShouldShowAllAvailableCurrencies,m=e.deposit_target,f=e.hasNoAvailableCrypto,p=e.is_add_crypto,g=e.is_add_fiat,h=ye(o.useState(""),1)[0],v=ye(o.useState({crypto:"",fiat:""}),1)[0],b=ge(c,t),E=function(){return(0,l.reorderCurrencies)(null==b?void 0:b.filter((function(e){return e.type===ve&&n.some((function(t){return t.value===e.value}))})),ve)},w=function(){return(0,l.reorderCurrencies)(null==b?void 0:b.filter((function(e){return"fiat"===e.type&&!n.some((function(t){return t.value===e.value}))})))},S=function(){_("choose"),m===l.routes.cashier_pa&&d(!0)},A=function(){return o.createElement("div",null,o.createElement(i.Text,{as:"h1",color:"prominent",align:"center",weight:"bold",className:"add-currency__title"},(0,s.localize)("Fiat currencies")),!!r&&o.createElement(i.Text,{as:"p",color:"prominent",align:"center",size:"xxs",className:"add-currency__sub-title"},(0,s.localize)("You are limited to one fiat account only.")),o.createElement(oe(),{id:"crypto_currency",className:"currency-selector__radio-group currency-selector__radio-group--with-margin",item_count:w().length},w().map((function(e){return o.createElement(y.Field,{key:e.value,component:ie(),name:"currency",id:e.value,label:e.name,icon:e.icon,second_line_label:e.second_line_label,onClick:e.onClick,selected:r})}))))},C=function(){return o.createElement("div",null,o.createElement(i.Text,{as:"h1",color:"prominent",align:"center",weight:"bold",className:"add-currency__title"},(0,s.localize)("Cryptocurrencies")),o.createElement(i.Text,{as:"p",color:"prominent",align:"center",size:"xxs",className:"add-currency__sub-title"},(0,s.localize)("You can open an account for each cryptocurrency.")),o.createElement(oe(),{id:"crypto_currency",className:"currency-selector__radio-group currency-selector__radio-group--with-margin",item_count:E().length},E().map((function(e){return o.createElement(y.Field,{key:e.value,component:ie(),name:"currency",id:e.value,label:e.name,icon:e.icon,second_line_label:e.second_line_label,onClick:e.onClick,selected:m===l.routes.cashier_pa&&!e.has_payment_agent})}))))};return p?o.createElement(i.ThemedScrollbars,{autohide:!1},o.createElement("div",{className:a()("add-crypto-currency",{"account-wizard--disabled":f()})},o.createElement(de,{className:"account-wizard__body",onSubmit:u,onClickBack:S,value:v,form_error:h,should_show_crypto_only:!0,hasNoAvailableCrypto:f}))):g?o.createElement(i.ThemedScrollbars,{autohide:!1},o.createElement("div",{className:"change-currency"},o.createElement(de,{className:"account-wizard__body",onSubmit:u,value:v,form_error:h,should_show_fiat_only:!0,hasNoAvailableCrypto:f,is_add_fiat:!0}))):o.createElement(y.Formik,{initialValues:{currency:v.currency},onSubmit:function(e,t){u(!1,e,t.setSubmitting)}},(function(e){var t=e.handleSubmit,n=e.values,r=e.isSubmitting;return o.createElement("form",{onSubmit:t},o.createElement(i.ThemedScrollbars,{height:(0,l.isMobile)()?window.innerHeight-190:"460px"},o.createElement("div",null,o.createElement(i.Text,{as:"p",color:"prominent",weight:"bold",align:"center",className:"add-currency__wizard-header"},(0,s.localize)("Choose your currency")),o.createElement(A,null),o.createElement("div",{className:"add-currency__underline"}),o.createElement(C,null))),o.createElement("div",{className:"add-currency__note-wrapper"},o.createElement(i.Text,{as:"p",color:"prominent",align:"center",size:"xxs",className:"add-currency__note"},(0,s.localize)("Some currencies may not be supported by payment agents in your country."))),o.createElement(i.FormSubmitButton,{className:"currency-selector__button",is_disabled:r||!n.currency,label:(0,s.localize)("Add account"),is_absolute:!0,form_error:h,has_cancel:!0,cancel_label:(0,s.localize)("Back"),cancel_icon:o.createElement(i.Icon,{icon:"IcArrowLeftBold"}),onCancel:function(){return S()}}))}))};be.propTypes={all_payment_agent_list:d().array,available_crypto_currencies:d().array,has_fiat:d().bool,legal_allowed_currencies:d().array,openRealAccountSignup:d().func,setShouldShowAllAvailableCurrencies:d().func,deposit_target:d().string};const Ee=(0,u.$j)((function(e){var t=e.client,n=e.modules,r=e.ui;return{all_payment_agent_list:n.cashier.all_payment_agent_list,available_crypto_currencies:t.available_crypto_currencies,has_fiat:t.has_fiat,legal_allowed_currencies:t.upgradeable_currencies,openRealAccountSignup:r.openRealAccountSignup,setShouldShowAllAvailableCurrencies:n.cashier.setShouldShowAllAvailableCurrencies,deposit_target:n.cashier.deposit_target}}))(be);var we=n(58468),Se=function(e){var t,n=e.legal_allowed_currencies,r=e.value,a=e.onSubmit,c=e.form_error,u=e.can_change_fiat_currency,_=e.client_currency,d=e.current_currency_type,m=e.current_fiat_currency,f=function(){return(0,l.reorderCurrencies)(n.filter((function(e){return"fiat"===e.type})))},p="fiat"===d,g=o.createElement(s.Localize,{i18n_default_text:"We can't change your account currency as you've either made a deposit into your {{currency}} account or created a real account on DMT5.",values:{currency:(0,l.getCurrencyDisplayCode)(_)}}),h=o.createElement(s.Localize,{i18n_default_text:"Please switch to your {{fiat_currency}} account to change currencies.",values:{fiat_currency:null==m||null===(t=m.toUpperCase)||void 0===t?void 0:t.call(m)}}),v=p?g:h;return o.createElement(y.Formik,{initialValues:{fiat:r.fiat},onSubmit:function(e,t){a(!1,e,t.setSubmitting)}},(function(e){var t=e.handleSubmit,n=e.values,r=e.errors,a=e.touched,d=e.isSubmitting;return o.createElement("form",{onSubmit:function(e){e.preventDefault(),t()}},o.createElement(i.Text,{as:"h1",color:"prominent",weight:"bold",align:"center",className:"change-currency__title"},o.createElement(s.Localize,{i18n_default_text:"Change your currency"})),o.createElement(i.Text,{as:"h3",size:"xxs",align:"center",className:"change-currency__sub-title"},o.createElement(s.Localize,{i18n_default_text:"Choose the currency you would like to trade with."})),!u&&o.createElement("div",{className:"account-wizard--disabled-message"},o.createElement(i.Text,{as:"p",align:"center",size:"xxs",className:"account-wizard--disabled-message-description"},v)),o.createElement(oe(),{id:"fiat",label:(0,s.localize)("Cryptocurrencies"),className:"currency-selector__radio-group currency-selector__radio-group--with-margin",value:n.fiat,error:r.fiat,touched:a.fiat,is_title_enabled:!1,item_count:f().length},f().map((function(e){return o.createElement(y.Field,{key:e.value,component:ie(),name:"fiat",id:e.value,label:e.name,selected:e.value===_})}))),o.createElement(i.FormSubmitButton,{className:"change-currency__button",is_disabled:d||!n.fiat,label:(0,s.localize)("Change currency"),is_absolute:!(0,l.isMobile)(),form_error:c}))}))};Se.propTypes={legal_allowed_currencies:d().array,onSubmit:d().func,value:d().shape({crypto:d().string,fiat:d().string}),form_error:d().string,can_change_fiat_currency:d().bool,currency:d().string,current_currency_type:d().string,current_fiat_currency:d().string,client_currency:d().string};const Ae=(0,u.$j)((function(e){var t=e.client;return{legal_allowed_currencies:t.upgradeable_currencies,client_currency:t.currency,current_fiat_currency:t.current_fiat_currency}}))(Se);function Ce(e,t,n,r,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ze=function(e){var t=e.available_crypto_currencies,n=e.can_change_fiat_currency,r=e.createCryptoAccount,c=e.current_currency_type,u=e.deposit_target,_=e.has_fiat,d=e.is_add_crypto,m=e.is_add_currency,f=e.is_add_fiat,p=e.is_eu,y=e.is_loading,h=e.manage_real_account_tab_index,v=e.onError,b=e.onSuccessSetAccountCurrency,E=e.resetRealAccountSignupTarget,w=e.setCurrency,S=e.setLoading,A=e.setIsDeposit,C=e.setShouldShowCancel,x=(null!=h?h:_&&0===(null==t?void 0:t.length))?1:0,O=xe(o.useState(x),2),z=O[0],N=O[1],k=xe(o.useState(""),1)[0],I=xe(o.useState({crypto:"",fiat:""}),1)[0];o.useEffect((function(){return function(){var e,t=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.next=3,we.WS.mt5LoginList();case 3:S(!1);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){Ce(o,r,a,c,i,"next",e)}function i(e){Ce(o,r,a,c,i,"throw",e)}c(void 0)}))});return function(){return t.apply(this,arguments)}}()(),function(){return C(!1)}}),[]);var j=function(e,t,n){!function(e,t){S(!0),Object.entries(e).map((function(e){var n=xe(e,2),a=n[0],o=n[1];"fiat"===a?w(o).then((function(e){t(!1),b(e.passthrough.previous_currency,e.echo_req.set_account_currency,u)})).catch((function(e){v(e)})).finally((function(){return S(!1)})):r(o).then((function(){b("",o,u),t(!1),E(),A(!0)})).catch((function(e){v(e)})).finally((function(){return S(!1)}))}))}(t,n)},M=function(){return 0===t.length&&_};if(y)return o.createElement(g,null);var T=_&&o.createElement("div",{className:a()("change-currency",{"account-wizard--disabled":!n})},o.createElement(Ae,{className:"account-wizard__body",onSubmit:j,value:I,form_error:k,can_change_fiat_currency:n,current_currency_type:c}));return m||d||f?o.createElement(Ee,{onSubmit:j,value:I,form_error:k,should_show_crypto_only:!0,hasNoAvailableCrypto:M,is_add_crypto:d,is_add_fiat:f,is_add_currency:m}):o.createElement(i.ThemedScrollbars,{is_bypassed:(0,l.isMobile)(),autohide:!1},p&&_?T:o.createElement(i.Tabs,{active_index:z,className:"account-wizard add-or-manage tabs--desktop",onTabItemClick:function(e){N(e)},top:!0,header_fit_content:(0,l.isDesktop)()},o.createElement("div",{label:(0,s.localize)("Cryptocurrencies")},o.createElement("div",{className:a()("add-crypto-currency",{"account-wizard--disabled":M()})},o.createElement(de,{className:"account-wizard__body",onSubmit:j,value:I,form_error:k,should_show_crypto_only:!0,hasNoAvailableCrypto:M}))),o.createElement("div",{label:(0,s.localize)("Fiat currencies")},_?T:o.createElement(de,{className:"account-wizard__body",onSubmit:j,value:I,form_error:k,should_show_fiat_only:!0,hasNoAvailableCrypto:M}))))};ze.propTypes={available_crypto_currencies:d().arrayOf({fractional_digits:d().number,is_deposit_suspended:d().number,is_suspended:d().number,is_withdrawal_suspended:d().number,name:d().string,stake_default:d().number,transfer_between_accounts:d().object,type:d().string,value:d().string}),onError:d().func,onLoading:d().func,onSuccessSetAccountCurrency:d().func,is_eu:d().bool,setCurrency:d().func,createCryptoAccount:d().func,has_fiat:d().bool,can_change_fiat_currency:d().bool,current_currency_type:d().string,is_loading:d().bool,is_add_crypto:d().bool,setLoading:d().func,setShouldShowCancel:d().func};const Ne=(0,u.$j)((function(e){var t=e.client,n=e.modules,r=e.ui;return{available_crypto_currencies:t.available_crypto_currencies,can_change_fiat_currency:t.can_change_fiat_currency,current_currency_type:t.current_currency_type,current_fiat_currency:t.current_fiat_currency,has_fiat:t.has_fiat,is_eu:t.is_eu,manage_real_account_tab_index:r.manage_real_account_tab_index,setCurrency:t.setAccountCurrency,setShouldShowCancel:r.setShouldShowCancel,createCryptoAccount:t.createCryptoAccount,resetRealAccountSignupTarget:r.resetRealAccountSignupTarget,setIsDeposit:n.cashier.setIsDeposit}}))(ze);function ke(e,t,n,r,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function Ie(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){ke(o,r,a,c,i,"next",e)}function i(e){ke(o,r,a,c,i,"throw",e)}c(void 0)}))}}function je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Me(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Te="crypto",Le=function(e){var t=e.account_list,n=e.all_payment_agent_list,r=e.available_crypto_currencies,a=e.closeRealAccountSignup,c=e.continueRouteAfterChooseCrypto,u=e.currency_title,_=e.deposit_target,d=e.has_fiat,m=e.legal_allowed_currencies,f=e.openRealAccountSignup,p=e.switchAccount,g=e.should_show_all_available_currencies,h=e.setShouldShowCancel,v=e.setShouldShowAllAvailableCurrencies,b=je(o.useState(""),1)[0],E=je(o.useState({crypto:""}),1)[0];o.useEffect((function(){return function(){return v(!1)}}),[v]);var w=function(){return 0===(null==m?void 0:m.filter((function(e){return e.type===Te&&!t.some((function(t){return t.title===e.value}))})).length)},S=function(){var e=ge(m,n),a=g?(0,l.reorderCurrencies)(null==e?void 0:e.filter((function(e){return t.some((function(t){return t.title===e.value}))})),Te):(0,l.reorderCurrencies)(null==e?void 0:e.filter((function(e){return e.type===Te&&!r.some((function(t){return t.value===e.value}))})),Te);return(_===l.routes.cashier_pa&&!d||!w())&&a.push({value:"plus",name:_===l.routes.cashier_pa?(0,s.localize)("Add a new"):(0,s.localize)("Add new"),second_line_label:_===l.routes.cashier_pa?(0,s.localize)("account"):(0,s.localize)("crypto account"),icon:"IcAddAccount",onClick:function(){return f(_===l.routes.cashier_pa?"add_currency":"add_crypto"),void h(!0)},has_payment_agent:!0}),a},A=function(){var e=Ie(regeneratorRuntime.mark((function e(n){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.filter((function(e){return e.title===n})),a=r.map((function(e){return e.loginid}))[0],e.next=4,p(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Ie(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object.entries(t).map((function(e){var t=je(e,2),n=t[0],r=t[1];n&&(a(),r!==u&&A(r),c())}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o.createElement(y.Formik,{initialValues:{currency:E.currency},onSubmit:function(e){C(e)}},(function(e){var t=e.handleSubmit,n=e.values,r=e.isSubmitting;return o.createElement("form",{onSubmit:t},o.createElement(i.Text,{as:"h1",color:"prominent",align:"center",weight:"bold",className:"add-crypto-currency__title"},_===l.routes.cashier_pa?(0,s.localize)("Choose an account or add a new one"):(0,s.localize)("Choose one of your accounts or add a new cryptocurrency account")),o.createElement(i.ThemedScrollbars,null,o.createElement(oe(),{id:"crypto_currency",className:"currency-selector__radio-group currency-selector__radio-group--with-margin",item_count:S().length},S().map((function(e){return o.createElement(y.Field,{key:e.value,component:ie(),name:"currency",id:e.value,label:e.name,icon:e.icon,second_line_label:e.second_line_label,onClick:e.onClick,selected:_===l.routes.cashier_pa&&!e.has_payment_agent})})))),o.createElement(i.FormSubmitButton,{className:"currency-selector__button",is_disabled:r||!n.currency,label:(0,s.localize)("Continue"),is_absolute:!0,form_error:b}))}))};Le.propTypes={account_list:d().array,available_crypto_currencies:d().array,closeRealAccountSignup:d().func,continueRouteAfterChooseCrypto:d().func,currency_title:d().string,has_fiat:d().bool,legal_allowed_currencies:d().array,openRealAccountSignup:d().func,setShouldShowCancel:d().func,switchAccount:d().func};const Re=(0,u.$j)((function(e){var t=e.client,n=e.modules,r=e.ui;return{account_list:t.account_list,all_payment_agent_list:n.cashier.all_payment_agent_list,available_crypto_currencies:t.available_crypto_currencies,closeRealAccountSignup:r.closeRealAccountSignup,continueRouteAfterChooseCrypto:r.continueRouteAfterChooseCrypto,currency_title:t.currency,deposit_target:n.cashier.deposit_target,has_fiat:t.has_fiat,legal_allowed_currencies:t.upgradeable_currencies,openRealAccountSignup:r.openRealAccountSignup,setShouldShowCancel:r.setShouldShowCancel,switchAccount:t.switchAccount,should_show_all_available_currencies:n.cashier.should_show_all_available_currencies,setShouldShowAllAvailableCurrencies:n.cashier.setShouldShowAllAvailableCurrencies}}))(Le);function Pe(){return(Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function De(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const Fe=(0,u.$j)((function(e){var t=e.client;return{available_crypto_currencies:t.available_crypto_currencies,can_change_fiat_currency:t.can_change_fiat_currency,currency:t.currency,current_currency_type:t.current_currency_type,current_fiat_currency:t.current_fiat_currency,is_eu:t.is_eu,has_fiat:t.has_fiat,landing_company_shortcode:t.landing_company_shortcode,setCurrency:t.setAccountCurrency,createCryptoAccount:t.createCryptoAccount}}))((function(e){var t=e.setLoading,n=e.onSuccessSetAccountCurrency,r=e.onError,c=e.available_crypto_currencies,u=e.has_fiat,_=e.landing_company_shortcode,d=e.is_loading,m=De(e,["setLoading","onSuccessSetAccountCurrency","onError","available_crypto_currencies","has_fiat","landing_company_shortcode","is_loading"]),f=o.useState(""),p=o.useState({currency:""}),y=function(){return 0===c.length&&u&&m.currency};return d?o.createElement(g,null):o.createElement("div",{className:a()("set-currency-modal",{"set-currency-modal--disabled":y()})},y()&&o.createElement("div",{className:"set-currency-modal--disabled-message"},o.createElement("p",null,(0,s.localize)("You already have an account for each of the cryptocurrencies available on {{deriv}}.",{deriv:l.website_name}))),o.createElement("div",{className:"set-currency-modal__heading-container"},o.createElement(i.Text,{as:"p",size:"xs",line_height:"s",align:"center",className:"set-currency-modal__heading-container__main-heading"},(0,s.localize)("You have an account that do not have currency assigned. Please choose a currency to trade with this account.")),o.createElement(i.Text,{as:"p",weight:"bold",align:"center",className:"set-currency-modal__heading-container__sub-heading"},(0,s.localize)("Please choose your currency"))),o.createElement(L,Pe({className:"account-wizard__body",onSubmit:function(e,a,o){!function(e,a){t(!0);var o=e.currency;o&&m.setCurrency(o).then((function(e){a(!1),n("",e.echo_req.set_account_currency)})).catch((function(e){r(e)})).finally((function(){return t(!1)}))}(a,o)},value:p,form_error:f,set_currency:!0,validate:(0,l.generateValidationFunction)(_,b())},m)))}));var We=function(e){var t=e.current,n=e.closeRealAccountSignup,r=e.continueRoute,c=e.deposit_target,u=e.deposit_real_account_signup_target,_=e.history,d=e.onSubmit,m=e.setIsDeposit,f=function(){return o.createElement(i.Icon,{icon:"IcCurrency-".concat(t.toLowerCase()),height:120,width:90})},p=function(e){var t=e.className;return o.createElement(i.Icon,{className:t,icon:"IcCheckmarkCircle",color:"green"})},g=function(){n(),m(!1)};return o.createElement(o.Fragment,null,o.createElement("div",{onClick:g,className:"finished-add-currency__close"},o.createElement(i.Icon,{icon:"IcCross"})),o.createElement(i.Div100vhContainer,{className:"finished-add-currency__dialog",is_disabled:(0,l.isDesktop)(),height_offset:"40px"},o.createElement("div",{className:a()("status-dialog__header",{"status-dialog__header--center":(0,l.isMobile)()})},o.createElement(f,null),o.createElement(p,{className:"bottom-right-overlay"})),o.createElement("div",{className:a()("status-dialog__body",{"status-dialog__body--no-grow":(0,l.isMobile)()})},o.createElement(i.Text,{as:"h2",align:"center",className:"status-dialog__message-header",weight:"bold"},o.createElement(s.Localize,{i18n_default_text:"Your account is ready"})),o.createElement(i.Text,{as:"p",align:"center"},o.createElement(s.Localize,{i18n_default_text:"Fund your account to start trading."}))),o.createElement("div",{className:"finished-add-currency__footer"},o.createElement(i.Button,{onClick:g,text:(0,s.localize)("Maybe later"),secondary:!0}),o.createElement(i.Button,{onClick:["add_crypto","add_fiat","add_currency"].includes(u)?function(){n(),r(),_.push(c),c===l.routes.cashier_deposit&&m(!0)}:d,text:(0,s.localize)("Deposit now"),primary:!0}))))};const Ue=o.memo(We);var Be=function(e){var t=e.prev,n=e.current;return t?o.createElement(s.Localize,{i18n_default_text:"<0>You have successfully changed your currency to {{currency}}.</0><0>Make a deposit now to start trading.</0>",values:{currency:(0,l.getCurrencyDisplayCode)(n)},components:[o.createElement(i.Text,{as:"p",align:"center",className:"status-dialog__message-text",color:"general",size:"xs",key:n})]}):o.createElement(s.Localize,{i18n_default_text:"<0>You have added a {{currency}} account.</0><0> Make a deposit now to start trading.</0>",values:{currency:(0,l.getCurrencyDisplayCode)(n)},components:[o.createElement(i.Text,{as:"p",align:"center",className:"status-dialog__message-text",color:"general",size:"xs",key:n})]})},Ve=function(e){var t=e.current,n=e.closeRealAccountSignup,r=e.continueRoute,c=e.deposit_target,u=e.deposit_real_account_signup_target,_=e.history,d=e.onCancel,m=e.onSubmit,f=e.prev,p=e.setIsDeposit,g=function(){return f?o.createElement(i.Icon,{icon:"IcCurrency-".concat(f.toLowerCase()),height:120,width:90}):null},y=function(){return o.createElement(i.Icon,{icon:"IcCurrency-".concat(t.toLowerCase()),height:120,width:90})},h=function(){return f?o.createElement(i.Icon,{icon:"IcArrowPointerRight",color:"red",width:50,height:20}):null},v=function(e){var t=e.className;return o.createElement(i.Icon,{className:t,icon:"IcCheckmarkCircle",color:"green"})};return o.createElement(i.Div100vhContainer,{className:"status-dialog",is_disabled:(0,l.isDesktop)(),height_offset:"40px"},o.createElement("div",{className:a()("status-dialog__header",{"status-dialog__header--center":(0,l.isMobile)(),"status-dialog__header--set-currency":f})},o.createElement(g,null),o.createElement(h,null),o.createElement(y,null),o.createElement(v,{className:"bottom-right-overlay"})),o.createElement("div",{className:a()("status-dialog__body",{"status-dialog__body--no-grow":(0,l.isMobile)()})},o.createElement(i.Text,{as:"h2",align:"center",className:"status-dialog__message-header",weight:"bold"},o.createElement(s.Localize,{i18n_default_text:"Success!"})),o.createElement(Be,{prev:f,current:t})),o.createElement("div",{className:"status-dialog__footer"},o.createElement(i.Button,{onClick:["add_crypto","add_fiat","add_currency"].includes(u)?function(){n(),r(),_.push(c),c===l.routes.cashier_deposit&&p(!0)}:m,text:(0,s.localize)("Deposit now"),primary:!0}),o.createElement(i.Button,{onClick:d,text:(0,s.localize)("Maybe later"),secondary:!0})))};const $e=o.memo(Ve);var He=function(e){switch(e.code){case"InvalidPhone":return o.createElement(i.Text,{as:"h1",align:"center",weight:"bold"},o.createElement(s.Localize,{i18n_default_text:"Let’s try that again"}));case"DuplicateAccount":return o.createElement(i.Text,{as:"h1",align:"center",weight:"bold"},o.createElement(s.Localize,{i18n_default_text:"Already signed up?"}));default:return o.createElement(i.Text,{as:"h1",align:"center",weight:"bold"},o.createElement(s.Localize,{i18n_default_text:"Something’s not right"}))}},Ye=function(e){var t=e.code,n=e.message;switch(t){case"DuplicateAccount":return o.createElement("p",null,o.createElement(s.Localize,{i18n_default_text:"An account with your details already exists."}),o.createElement("br",null),o.createElement(s.Localize,{i18n_default_text:"If you're having trouble signing in, let us know via <0>chat</0>",components:[o.createElement("span",{className:"chat-inline",key:0,onClick:function(){return window.LC_API.open_chat_window()}})]}));default:return o.createElement("p",null,n)}},Ze=function(e){var t=e.text,n=e.onConfirm;return o.createElement(i.Button,{primary:!0,onClick:n,large:!0},t)},Xe=function(e){var t=e.code,n=e.onConfirm;switch(t){case"CurrencyTypeNotAllowed":return o.createElement(Ze,{text:(0,s.localize)("Try a different currency"),onConfirm:n});case"InvalidPhone":return o.createElement(Ze,{text:(0,s.localize)("Try a different phone number"),onConfirm:n});case"DuplicateAccount":return null;default:return o.createElement(i.StaticUrl,{href:"help-centre/".concat("InvalidAccount"===t?"account#who-can-open-an-account":""),type:"button",className:"dc-btn dc-btn--primary"},o.createElement(i.Text,{weight:"bold",color:"white",size:"xxs"},o.createElement(s.Localize,{i18n_default_text:"OK"})))}},Ge=function(e){var t=e.message,n=e.code,r=e.onConfirm;return o.createElement("div",{className:"account-wizard--error"},o.createElement(i.Icon,{icon:"IcAccountError",size:115}),o.createElement(He,{code:n}),o.createElement(Ye,{code:n,message:t}),o.createElement(Xe,{code:n,onConfirm:r}))};Ge.propTypes={code:d().string,message:d().string,onConfirm:d().func};const Ke=Ge;var qe=n(78568),Je=function(e){var t=e.status;return o.createElement(i.Text,{as:"h2",align:"center",className:"status-dialog__message-header",weight:"bold"},t===qe.FX.SUCCESS&&o.createElement(s.Localize,{i18n_default_text:"Your account is ready"}),t===qe.FX.WARN&&o.createElement(s.Localize,{i18n_default_text:"Please verify your address"}),t===qe.FX.DANGER&&o.createElement(s.Localize,{i18n_default_text:"Please verify your identity and address"}),t===qe.FX.PENDING&&o.createElement(s.Localize,{i18n_default_text:"We're processing your personal information"}))},Qe=function(e){var t=e.status;switch(e.landing_company_shortcode){case"iom":return o.createElement(Je,{status:t});default:return o.createElement(i.Text,{as:"h2",align:"center",className:"status-dialog__message-header",weight:"bold"},o.createElement(s.Localize,{i18n_default_text:"Your account is ready"}))}};Qe.propTypes={status:d().number.isRequired,landing_company_shortcode:d().string.isRequired};var et=function(e){var t=e.country_standpoint,n=e.is_fully_authenticated,r=e.landing_company_shortcode,a=e.status,c=void 0===a?qe.FX.SUCCESS:a,l="";if("maltainvest"===r)l=n?[o.createElement(s.Localize,{key:0,i18n_default_text:"You have added a Deriv Financial account."}),o.createElement(s.Localize,{key:1,i18n_default_text:"Make a deposit now to start trading."})]:o.createElement(s.Localize,{i18n_default_text:"We need proof of your identity and address before you can start trading."});else if("malta"===r)(t.is_united_kingdom&&n||t.is_rest_of_eu||t.is_belgium)&&(l=o.createElement(s.Localize,{i18n_default_text:"You have added a real Options account.<0/>Make a deposit now to start trading.",components:[o.createElement("br",{key:0})]}));else if("iom"===r)t.is_united_kingdom&&n&&(l=o.createElement(s.Localize,{i18n_default_text:"You have added a real Gaming account.<0/>Make a deposit now to start trading.",components:[o.createElement("br",{key:0})]}));else switch(c){case qe.FX.WARN:l=o.createElement(s.Localize,{i18n_default_text:"To get trading, please confirm where you live."});break;case qe.FX.DANGER:l=o.createElement(s.Localize,{i18n_default_text:"To get trading, please confirm who you are, and where you live."});break;case qe.FX.PENDING:l=o.createElement(s.Localize,{i18n_default_text:"You'll be able to get trading as soon as verification is complete."});break;default:l=o.createElement(s.Localize,{i18n_default_text:"Fund your account to start trading."})}return Array.isArray(l)?o.createElement(o.Fragment,null,l.map((function(e,t){return o.createElement(i.Text,{key:t,as:"p",align:"center",className:"status-dialog__message-text",color:"general",size:"xs"},e)}))):o.createElement(i.Text,{as:"p",align:"center",className:"status-dialog__message-text",color:"general",size:"xs"},l)};et.propTypes={currency:d().string,is_isle_of_man_residence:d().bool,landing_company_shortcode:d().string,status:d().number};var tt=function(e){var t=e.status,n=e.landing_company_shortcode,r=e.closeModal,a=e.closeModalAndOpenCashier,c=e.closeModalAndOpenPOI,l=e.closeModalAndOpenPOA,u=function(e){var t=e.status,n=e.landing_company_shortcode,r=e.is_fully_authenticated,a=e.closeModal,o=e.closeModalAndOpenCashier,c=e.closeModalAndOpenPOI,i=e.closeModalAndOpenPOA;switch(n){case"iom":return t===qe.FX.DANGER?{label:(0,s.localize)("Submit proofs"),action:c}:t===qe.FX.WARN?{label:(0,s.localize)("Submit proof"),action:i}:t===qe.FX.PENDING?{label:(0,s.localize)("OK"),action:a}:{label:(0,s.localize)("Deposit"),action:o};case"maltainvest":return r?{label:(0,s.localize)("Deposit"),action:o}:{label:(0,s.localize)("Submit proof"),action:c};case"svg":case"malta":default:return{label:(0,s.localize)("Deposit"),action:o}}}({status:t,landing_company_shortcode:n,is_fully_authenticated:e.is_fully_authenticated,closeModal:r,closeModalAndOpenCashier:a,closeModalAndOpenPOI:c,closeModalAndOpenPOA:l}),_=u.label,d=u.action;return o.createElement(i.Button,{primary:!0,text:_,onClick:d})},nt=function(e){var t=e.status,n=e.landing_company_shortcode,r=e.closeModal,a=e.switchToVirtual;if(e.is_bypassed)return null;var c=function(e){var t=e.status,n=e.landing_company_shortcode,r=e.closeModal,a=e.switchToVirtual;switch(n){case"iom":return t===qe.FX.SUCCESS?{label:(0,s.localize)("Maybe later"),action:r}:t===qe.FX.WARN?{label:(0,s.localize)("Trade on demo"),action:function(){r(),a()}}:{label:(0,s.localize)("Maybe later"),action:r};default:return{label:(0,s.localize)("Maybe later"),action:r}}}({status:t,landing_company_shortcode:n,closeModal:r,switchToVirtual:a}),l=c.label,u=c.action;return o.createElement(i.Button,{secondary:!0,text:l,onClick:u})},rt=function(e){var t=e.status,n=e.landing_company_shortcode,r=e.is_fully_authenticated,a=e.closeModal,c=e.closeModalAndOpenCashier,i=e.closeModalAndOpenPOA,l=e.closeModalAndOpenPOI,s=e.switchToVirtual;return o.createElement("div",{className:"status-dialog__footer"},o.createElement(nt,{closeModal:a,is_bypassed:t===qe.FX.PENDING,status:t,landing_company_shortcode:n,switchToVirtual:s}),o.createElement(tt,{status:t,landing_company_shortcode:n,closeModal:a,closeModalAndOpenCashier:c,closeModalAndOpenPOI:l,closeModalAndOpenPOA:i,is_fully_authenticated:r}))};rt.propTypes={status:d().number,landing_company_shortcode:d().string,is_fully_authenticated:d().bool,closeModal:d().func,closeModalAndOpenCashier:d().func,closeModalAndOpenPOI:d().func,switchToVirtual:d().func};var at=function(e){var t=e.currency;return o.createElement(i.Icon,{icon:"IcCurrency-".concat(t.toLowerCase()),size:120})},ot=function(e){var t=e.className;return o.createElement(i.Icon,{className:t,icon:"IcCheckmarkCircle",color:"green",size:24})},ct=function(e){var t=e.className;return o.createElement(i.Icon,{className:t,icon:"IcAlertDanger",size:24})},it=function(e){var t=e.className;return o.createElement(i.Icon,{className:t,icon:"IcCrossCircle",size:24,color:"red"})},lt=function(e){var t=e.closeModal;return o.createElement("div",{onClick:t,className:"status-dialog__close"},o.createElement(i.Icon,{icon:"IcCross"}))},st=function(e){var t=e.closeModal,n=e.country_standpoint,r=e.currency,c=e.history,s=e.icon_size,u=e.is_age_verified,_=e.is_belgium_residence,d=e.is_fully_authenticated,m=e.is_isle_of_man_residence,f=e.landing_company_shortcode,p=e.switchToVirtual,g=function(){return(0,qe.Sj)({landing_company_shortcode:f,is_fully_authenticated:d,is_age_verified:u,is_isle_of_man_residence:m,is_belgium_residence:_})};return o.createElement(i.Div100vhContainer,{className:"status-dialog",is_disabled:(0,l.isDesktop)(),height_offset:"40px"},(0,l.isDesktop)()&&o.createElement(lt,{closeModal:t}),o.createElement("div",{className:a()("status-dialog__header",{"status-dialog__header--large":"large"===s,"status-dialog__header--xlarge":"xlarge"===s})},o.createElement(at,{currency:r}),g()===qe.FX.SUCCESS&&o.createElement(ot,{className:"bottom-right-overlay"}),g()===qe.FX.WARN&&o.createElement(ct,{className:"bottom-right-overlay"}),g()===qe.FX.DANGER&&o.createElement(it,{className:"bottom-right-overlay"})),o.createElement("div",{className:a()("status-dialog__body",{"status-dialog__body--no-grow":(0,l.isMobile)()})},o.createElement(Qe,{status:g(),landing_company_shortcode:f}),o.createElement(et,{country_standpoint:n,currency:r,is_fully_authenticated:d,landing_company_shortcode:f,status:g()})),o.createElement(rt,{closeModal:t,closeModalAndOpenPOI:function(){t(),c.push(l.routes.proof_of_identity)},closeModalAndOpenPOA:function(){t(),c.push(l.routes.proof_of_address)},closeModalAndOpenCashier:function(){t(),c.push(l.routes.cashier_deposit)},is_fully_authenticated:d,landing_company_shortcode:f,status:g(),switchToVirtual:p}))};st.defaultProps={icon_size:"large"},st.propTypes={currency:d().string,closeModal:d().func,icon:d().object,icon_size:d().string,is_isle_of_man_residence:d().bool,is_belgium_residence:d().bool};const ut=(0,u.$j)((function(e){var t=e.client;return{country_standpoint:t.country_standpoint,landing_company_shortcode:t.landing_company_shortcode,is_fully_authenticated:t.is_fully_authenticated,is_age_verified:t.is_age_verified,is_isle_of_man_residence:"im"===t.residence,is_belgium_residence:"be"===t.residence,switchToVirtual:function(){return t.switchAccount(t.virtual_account_loginid)}}}))((0,c.withRouter)(st));function _t(e){return(_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return mt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ft={account_wizard:0,add_or_manage_account:1,finished_set_currency:2,status_dialog:3,set_currency:4,signup_error:5,choose_crypto_currency:6,add_currency:7,finished_add_currency:8},pt=function(e){var t=e.real_account_signup_target,n=e.currency,r=e.is_isle_of_man_residence,a=e.country_standpoint,c="iom"===t,i="deposit_cash"===t;if(!("maltainvest"===t)&&!n)return o.createElement(s.Localize,{i18n_default_text:"Set a currency for your real account"});if(i)return o.createElement(s.Localize,{i18n_default_text:"Add a Deriv Gaming account"});if(c&&r)return o.createElement(s.Localize,{i18n_default_text:"Add a Deriv account"});switch(t){case"malta":return a.is_united_kingdom||a.is_rest_of_eu||a.is_belgium?o.createElement(s.Localize,{i18n_default_text:"Add a real Deriv Options account"}):o.createElement(s.Localize,{i18n_default_text:"Add a Deriv Synthetic account"});case"iom":return a.is_united_kingdom?o.createElement(s.Localize,{i18n_default_text:"Add a real Deriv Gaming account"}):o.createElement(s.Localize,{i18n_default_text:"Add a Deriv Synthetic account"});case"maltainvest":return a.is_united_kingdom||a.is_france||a.is_other_eu||a.is_rest_of_eu?o.createElement(s.Localize,{i18n_default_text:"Add a real Deriv Multipliers account"}):o.createElement(s.Localize,{i18n_default_text:"Add a Deriv Financial account"});case"samoa":return o.createElement(s.Localize,{i18n_default_text:"Terms of use"});default:return o.createElement(s.Localize,{i18n_default_text:"Add a Deriv account"})}};const gt=(0,u.$j)((function(e){var t=e.ui,n=e.client,r=e.common,a=e.modules;return{available_crypto_currencies:n.available_crypto_currencies,has_fiat:n.has_fiat,has_real_account:n.has_active_real_account,continueRoute:a.cashier.continueRoute,currency:n.currency,deposit_target:a.cashier.deposit_target,is_eu:n.is_eu,country_standpoint:n.country_standpoint,is_real_acc_signup_on:t.is_real_acc_signup_on,real_account_signup_target:t.real_account_signup_target,replaceCashierMenuOnclick:a.cashier.replaceCashierMenuOnclick,closeRealAccountSignup:t.closeRealAccountSignup,setParams:t.setRealAccountSignupParams,is_from_restricted_country:n.is_from_restricted_country,is_isle_of_man_residence:"im"===n.residence,is_belgium_residence:"be"===n.residence,setIsDeposit:a.cashier.setIsDeposit,should_show_all_available_currencies:a.cashier.should_show_all_available_currencies,state_value:t.real_account_signup,routing_history:r.app_routing_history,deposit_real_account_signup_target:t.deposit_real_account_signup_target}}))((0,c.withRouter)((function(e){var t=e.available_crypto_currencies,n=e.closeRealAccountSignup,r=e.continueRoute,c=e.currency,u=e.deposit_target,_=e.has_fiat,d=e.has_real_account,m=e.country_standpoint,f=e.history,p=e.is_belgium_residence,g=e.is_from_restricted_country,y=e.is_isle_of_man_residence,h=e.is_eu,v=e.is_real_acc_signup_on,b=e.real_account_signup_target,E=e.replaceCashierMenuOnclick,w=e.routing_history,S=e.setIsDeposit,A=e.setParams,C=e.should_show_all_available_currencies,x=e.state_index,O=e.state_value,z=e.deposit_real_account_signup_target,N=dt(o.useState(null),2),k=N[0],I=N[1],j=dt(o.useState(!1),2),M=j[0],T=j[1],L=dt(o.useState(null),2),R=L[0],P=L[1],D=dt(o.useState(!1),2),F=D[0],W=D[1],U=dt(o.useState([{action:"signup",body:function(e){return o.createElement(re,{setIsRiskWarningVisible:W,onFinishSuccess:B,onOpenWelcomeModal:V,is_loading:e.is_loading,setLoading:Y,onError:Z,onClose:X})},title:pt},{action:"multi",body:function(e){return o.createElement(Ne,{onSuccessSetAccountCurrency:H,is_loading:e.is_loading,setLoading:Y,onError:Z,is_add_crypto:"add_crypto"===e.real_account_signup_target,is_add_fiat:"add_fiat"===e.real_account_signup_target,is_add_currency:"add_currency"===e.real_account_signup_target,deposit_target:e.deposit_target})},title:function(e){var t;return"add_crypto"===e.real_account_signup_target?(0,s.localize)("Create a cryptocurrency account"):"add_fiat"===e.real_account_signup_target?(0,s.localize)("Add a Deriv real account"):"add_currency"===e.real_account_signup_target?(0,s.localize)("Create a new account"):e.has_fiat&&0===(null===(t=e.available_crypto_currencies)||void 0===t?void 0:t.length)?(0,s.localize)("Manage account"):(0,s.localize)("Add or manage account")}},{body:function(e){return o.createElement($e,{prev:e.state_value.previous_currency,current:e.state_value.current_currency,onCancel:X,onSubmit:$,deposit_real_account_signup_target:e.deposit_real_account_signup_target,deposit_target:e.deposit_target,closeRealAccountSignup:n,continueRoute:r,setIsDeposit:S,history:f})},title:function(e){var t;return e.has_fiat&&0===(null===(t=e.available_crypto_currencies)||void 0===t?void 0:t.length)?(0,s.localize)("Manage account"):(0,s.localize)("Add or manage account")}},{body:function(e){return o.createElement(ut,{currency:e.state_value.currency,closeModal:X})}},{body:function(e){return o.createElement(Fe,{is_loading:e.is_loading,setLoading:Y,onError:Z,onClose:X,onSuccessSetAccountCurrency:H})},title:pt},{body:function(e){return o.createElement(Ke,{message:e.state_value.error_message,code:e.state_value.error_code,onConfirm:G})},title:function(){return(0,s.localize)("Add a real account")}},{body:function(){return o.createElement(Re,{className:"account-wizard__body",onError:Z})},title:function(e){return e.should_show_all_available_currencies?(0,s.localize)("Choose an account"):(0,s.localize)("Choose a cryptocurrency account")}},{body:function(){return o.createElement(Ee,{className:"account-wizard__body",onError:Z})},title:function(){return(0,s.localize)("Create a new account")}},{body:function(e){return o.createElement(Ue,{prev:e.state_value.previous_currency,current:e.state_value.current_currency,onSubmit:$,deposit_real_account_signup_target:e.deposit_real_account_signup_target,deposit_target:e.deposit_target,closeRealAccountSignup:n,continueRoute:r,setIsDeposit:S,history:f})}}]),1)[0],B=function(e){A({active_modal_index:ft.status_dialog,currency:e})},V=function(e){n(),A({currency:e})},$=function(){E(),n(),f.push(l.routes.cashier_deposit)},H=function(e,t,n){A({previous_currency:e,current_currency:t,active_modal_index:n?ft.finished_add_currency:ft.finished_set_currency})},Y=function(e){T(e)},Z=function(e,t){var n;t&&function(e){localStorage.setItem("real_account_signup_wizard",JSON.stringify(e.map((function(e){return"object"===_t(e.form_value)&&e.form_value}))))}(t),I(null===(n=U[K()])||void 0===n?void 0:n.action),P(e)};o.useEffect((function(){R&&A({active_modal_index:ft.signup_error,error_message:R.message,error_code:R.code})}),[R]),o.useEffect((function(){g&&A({active_modal_index:ft.signup_error,error_message:(0,s.localize)("Sorry, account opening is unavailable in your region."),error_code:"InvalidAccount"})}),[g,v]);var X=function(e){E(),"noopener noreferrer"===(null==e?void 0:e.target.getAttribute("rel"))||null!=e&&e.target.closest(".redirect-notice")||null!=e&&e.target.closest(".dc-popover__bubble")||(K()!==ft.status_dialog&&(sessionStorage.removeItem("post_real_account_signup"),localStorage.removeItem("real_account_signup_wizard")),n(),(0,l.isNavigationFromPlatform)(w,l.routes.smarttrader)&&(window.location=l.routes.smarttrader))},G=function(){A({active_modal_index:"multi"===k?ft.add_or_manage_account:ft.account_wizard})},K=function(){return"choose"===b?ft.choose_crypto_currency:["add_crypto","add_fiat","add_currency"].includes(b)?ft.add_or_manage_account:-1===O.active_modal_index?d&&c&&"manage"===b?ft.add_or_manage_account:c||"maltainvest"===b?ft.account_wizard:ft.set_currency:O.active_modal_index},q=U[K()],J=q.title,Q=q.body,ee=ft.account_wizard,te=ft.add_or_manage_account,ne=ft.finished_set_currency,ae=ft.status_dialog,oe=ft.set_currency,ce=ft.signup_error,ie=[ee,te,oe,ce].includes(K());return o.createElement(o.Fragment,null,o.createElement(i.DesktopWrapper,null,o.createElement(i.Modal,{id:"real_account_signup_modal",className:a()("real-account-signup-modal",{"dc-modal__container_real-account-signup-modal--error":K()===ce,"dc-modal__container_real-account-signup-modal--success":[ne,ae].includes(K())}),is_open:v,is_risk_warning_visible:F,has_close_icon:"samoa"!==b,is_title_centered:"samoa"===b,renderTitle:function(){return J&&![ne,ae].includes(K())?o.createElement(J,{real_account_signup_target:b,currency:c,is_isle_of_man_residence:y,is_belgium_residence:p,is_eu:h,has_fiat:_,available_crypto_currencies:t,should_show_all_available_currencies:C,country_standpoint:m}):null},toggleModal:X,height:K()===ft.status_dialog?"auto":c?d&&c?h&&K()===ft.add_or_manage_account?"420px":[ft.finished_set_currency,ft.finished_add_currency].includes(K())?"auto":"644px":"740px":"688px",width:ie?"904px":"auto",elements_to_ignore:[document.querySelector(".modal-root")]},v&&o.createElement(Q,{state_value:O,passthrough:x,is_loading:M,real_account_signup_target:b,deposit_real_account_signup_target:z,deposit_target:u}))),o.createElement(i.MobileWrapper,null,o.createElement(i.MobileDialog,{portal_element_id:"modal_root",wrapper_classname:"account-signup-mobile-dialog",visible:v,onClose:X,renderTitle:function(){return J?o.createElement(J,{real_account_signup_target:b,currency:c,is_isle_of_man_residence:y,is_belgium_residence:p,should_show_all_available_currencies:C,country_standpoint:m}):null}},v&&o.createElement(Q,{state_value:O,passthrough:x,is_loading:M,real_account_signup_target:b,deposit_real_account_signup_target:z,deposit_target:u}))))})))},78497:(e,t,n)=>{"use strict";n.d(t,{l:()=>d});var r=n(60216),a=n.n(r),o=n(32735),c=n(13799),i=n(17502),l=n(20374),s=n(75672),u=n(58468),_=function(e){var t=e.history,n=e.currency,r=e.setVerificationCode,a=e.hasAnyRealAccount,c=e.openRealAccountSignup,s=e.setResetTradingPasswordModalOpen,_=e.toggleAccountSignupModal,d=e.toggleResetPasswordModal,m=window.location.search,f=new URLSearchParams(m),p=!1,g=o.useContext(i.PlatformContext).is_dashboard;switch(r(f.get("code"),f.get("action")),f.get("action")){case"signup":g&&(t.push({pathname:i.routes.dashboard,search:m}),p=!0),sessionStorage.removeItem("redirect_url"),_(!0);break;case"reset_password":d(!0);break;case"trading_platform_mt5_password_reset":case"trading_platform_dxtrade_password_reset":var y=f.get("redirect_to");if(y){var h="";switch(y){case"1":h=i.routes.mt5;break;case"2":h=i.routes.dxtrade;break;case"3":h=i.routes.passwords}h&&(t.push({pathname:h,search:m}),p=!0)}s(!0);break;case"payment_withdraw":t.push(i.routes.cashier_withdrawal),p=!0;break;case"payment_agent_withdraw":t.push(i.routes.cashier_pa),p=!0;break;case"add_account":u.WS.wait("get_account_status").then((function(){return n?a()?c("manage"):c():c("set_currency")}));var v=f.get("ext_platform_url");v&&(t.push("".concat(i.routes.root,"?ext_platform_url=").concat(v)),p=!0);break;case"verification":sessionStorage.setItem("redirect_url",i.routes.cashier_p2p_verification),window.location.href=(0,i.loginUrl)({language:(0,l.getLanguage)()});break;case"trading_platform_investor_password_reset":var b;localStorage.setItem("cfd_reset_password_code",f.get("code"));var E=null===(b=localStorage.getItem("cfd_reset_password_intent"))||void 0===b?void 0:b.includes("demo");t.push("".concat(i.routes.mt5,"#").concat(E?"demo":"real","#reset-password")),p=!0}return p||t.push({pathname:i.routes.root,search:m}),null};_.propTypes={getServerTime:a().object,history:a().object,setResetTradingPasswordModalOpen:a().func,setVerificationCode:a().func,toggleAccountSignupModal:a().func,toggleResetPasswordModal:a().func};const d=(0,c.withRouter)((0,s.$j)((function(e){var t=e.client,n=e.ui;return{currency:t.currency,setVerificationCode:t.setVerificationCode,fetchResidenceList:t.fetchResidenceList,hasAnyRealAccount:t.hasAnyRealAccount,openRealAccountSignup:n.openRealAccountSignup,setResetTradingPasswordModalOpen:n.setResetTradingPasswordModalOpen,toggleAccountSignupModal:n.toggleAccountSignupModal,toggleResetPasswordModal:n.toggleResetPasswordModal}}))(_))},24793:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(60216),a=n.n(r),o=n(32735),c=n(53146),i=n(20374),l=n(75672),s=function(e){var t=e.is_visible,n=e.is_virtual,r=e.should_set_currency_modal_title_change,a=e.setCurrency,l=e.toggleModal;return o.createElement(c.Modal,{id:"dt_set_account_currency_modal",has_close_icon:!1,is_open:t,small:!0,toggleModal:l,title:r?(0,i.localize)("No currency assigned to your account"):(0,i.localize)("You have an account that needs action")},o.createElement(c.Modal.Body,null,(0,i.localize)("Please set a currency for your existing real account before creating another account.")),o.createElement(c.Modal.Footer,null,n?o.createElement(c.Button,{has_effect:!0,text:(0,i.localize)("OK"),onClick:l,primary:!0}):o.createElement(o.Fragment,null,o.createElement(c.Button,{has_effect:!0,text:(0,i.localize)("Cancel"),onClick:l,secondary:!0}),o.createElement(c.Button,{has_effect:!0,text:(0,i.localize)("Set currency"),onClick:function(){l(),setTimeout((function(){a()}),250)},primary:!0}))))};s.propTypes={is_virtual:a().bool,is_visible:a().bool,should_set_currency_modal_title_change:a().bool,setCurrency:a().func,toggleModal:a().func};const u=(0,l.$j)((function(e){var t=e.client,n=e.modules,r=e.ui;return{is_virtual:t.is_virtual,is_visible:r.is_set_currency_modal_visible,should_set_currency_modal_title_change:n.cashier.should_set_currency_modal_title_change,setCurrency:r.openRealAccountSignup,toggleModal:r.toggleSetCurrencyModal}}))(s)},74222:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(32735);const a=function(e){var t=e.onUpdate;return r.useEffect((function(){var e=function(){document.removeEventListener("UpdateAvailable",t)},n=function(){document.addEventListener("UpdateAvailable",t)};return document.addEventListener("UpdateAvailable",t),document.addEventListener("IgnorePWAUpdate",e),document.addEventListener("ListenPWAUpdate",n),function(){document.removeEventListener("IgnorePWAUpdate",e),document.removeEventListener("ListenPWAUpdate",n),document.removeEventListener("UpdateAvailable",t)}}),[]),null}},93802:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(40841),a=n.n(r),o=n(60216),c=n.n(o),i=n(32735),l=n(17502),s=n(75672),u=n(53146),_=function(e){var t=e.is_mobile,n=e.server_time,r=(0,l.toGMTFormat)(n),o=(0,l.toLocalFormat)(n);return i.createElement(u.Popover,{alignment:"top",message:o,className:a()("server-time",{"server-time--is-mobile":t})},r)};_.propTypes={is_mobile:c().bool,server_time:c().object};const d=(0,s.$j)((function(e){return{server_time:e.common.server_time}}))(_)},77802:(e,t,n)=>{"use strict";var r=n(60216),a=n.n(r),o=n(32735),c=n(12788),i=n(14956),l=n(40001),s=n.n(l),u=n(53146),_=n(17502),d=n(20374),m=n(10331),f=n.n(m),p=n(16636),g=n(75672),y=n(22816);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var b=function(e){var t=e.toasts,n=e.removeToast;if(0===t.length)return null;var r=t.filter((function(e){return!e.is_bottom})),a=t.filter((function(e){return e.is_bottom})),i=function(e){var t=e.key,r=e.content,a=v(e,["key","content"]);return o.createElement(u.Toast,h({key:t},a,{onClose:function(){return n(t)}}),r)},l=o.createElement(u.Div100vhContainer,{className:"toast-messages",height_offset:"15px"},o.createElement("div",{className:"toast-messages__top"},r.map(i)),o.createElement("div",{className:"toast-messages__bottom"},a.map(i)));return c.createPortal(l,document.getElementById("popup_root"))};b.propTypes={toasts:a().arrayOf(a().shape({key:a().string,timeout:a().number,content:a().oneOfType([a().node,a().string]),type:a().oneOf(["error","info"]),is_bottom:a().bool})),removeToast:a().func};const E=(0,g.$j)((function(e){var t=e.ui;return{toasts:t.toasts,removeToast:t.removeToast}}))(b);var w=n(61407),S=n(64797);function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var O="is_dashboard";const z=function(e){var t=x({},e),n=!!window.localStorage.getItem(O)&&"true"===window.localStorage.getItem(O),r=A(o.useState(n),2),a={is_dashboard:r[0],setDerivDashboard:r[1],DERIV_DASHBOARD_KEY:O};return o.createElement(_.PlatformContext.Provider,x({value:a},t))};var N=n(38937),k=n(96675),I=n(81472),j=n(4390),M=n(62428);function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var R=function(e){var t=e.children;return(0,_.isMobile)()?c.createPortal(t,document.getElementById("deriv_app")):t},P=function(e){var t=e.is_notification_loaded,n=e.style,r=e.notifications,a=e.removeNotificationMessage;return o.createElement("div",{className:"notification-messages",style:n},o.createElement(I.Z,{component:"div"},r.map((function(e,n){return o.createElement(j.Z,{appear:!t,key:n,in:!!e.header,timeout:150,classNames:{appear:"notification--enter",enter:"notification--enter",enterDone:"notification--enter-done",exit:"notification--exit"},unmountOnExit:!0},o.createElement(M.ZP,{data:e,removeNotificationMessage:a}))}))))},D=function(e){var t=e.is_notification_loaded,n=e.is_mt5,r=e.marked_notifications,a=e.notification_messages,c=e.removeNotificationMessage,i=e.stopNotificationLoading,l=T(o.useState({}),2),s=l[0],u=l[1],d=T(o.useState(null),2),m=d[0],f=d[1];o.useEffect((function(){if(n&&i(),m&&(0,_.isMobile)()){var e=m.parentElement.getBoundingClientRect();u({top:e.top+8})}}),[m]);var p=a.filter((function(e){var t=!r.includes(e.key),n=!(0,_.isMobile)()||["unwelcome","contract_sold","dp2p","tnc","deriv_go"].includes(e.key);return t&&n})),g=(0,_.isMobile)()?M.fh:M.S_,y=p.slice(0,g);return y.length?o.createElement("div",{ref:function(e){return f(e)},className:"notification-messages-bounds"},o.createElement(R,null,o.createElement(P,{notifications:y,is_notification_loaded:t,style:s,removeNotificationMessage:c}))):null};D.propTypes={marked_notifications:a().array,notification_messages:a().arrayOf(a().shape({closeOnClick:a().func,delay:a().number,header:a().string,is_auto_close:a().bool,message:a().oneOfType([a().node,a().string]),size:a().oneOf(["small"]),type:a().oneOf(["warning","info","success","danger","contract_sold","news","announce"])})),removeNotificationMessage:a().func};const F=(0,g.$j)((function(e){var t=e.ui;return{marked_notifications:t.marked_notifications,notification_messages:t.notification_messages,removeNotificationMessage:t.removeNotificationMessage}}))(D);var W=n(86531),U=n(16),B=n(13799),V=n(23942),$=n.n(V),H=n(32577);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){X(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G=$()({loader:function(){return Promise.resolve().then(n.bind(n,62792))},loading:u.UILoader,render:function(e,t){var n=e.default;return o.createElement(n,t)}}),K=function(e){var t=e.addRouteHistoryItem,n=e.error,r=e.has_error,a=e.history,c=e.is_logged_in,i=e.is_logging_in,l=e.location,s=e.passthrough,u=e.setAppRouterHistory,m=e.setInitialRouteHistoryItem,f=o.useRef(null),p=o.useRef(null);o.useEffect((function(){return p.current||f.current||(f.current=l.pathname),m(a.location),p.current=a.listen((function(e,n){["PUSH","POP"].includes(n)&&t(Z(Z({},e),{},{action:n}))})),u(a),function(){"function"==typeof p.current&&(p.current(),p.current=null,f.current=null)}}),[]);var g=(0,d.getLanguage)(),y=/[?&]lang=/.test(l.search);return r?o.createElement(G,n):((!y&&"EN"!==g||y&&"EN"===g)&&window.history.replaceState({},document.title,(0,_.urlForLanguage)(g)),o.createElement(H.ZP,{is_logged_in:c,is_logging_in:i,passthrough:s}))};K.propTypes={addRouteHistoryItem:a().func,error:U.PropTypes.objectOrObservableObject,has_error:a().bool,history:a().object,is_logged_in:a().bool,is_logging_in:a().bool,is_virtual:a().bool,setAppRouterHistory:a().func,setInitialRouteHistoryItem:a().func};const q=(0,B.withRouter)((0,g.$j)((function(e){var t=e.client,n=e.common;return{is_logged_in:t.is_logged_in,is_logging_in:t.is_logging_in,error:n.error,has_error:n.has_error,setAppRouterHistory:n.setAppRouterHistory,addRouteHistoryItem:n.addRouteHistoryItem,setInitialRouteHistoryItem:n.setInitialRouteHistoryItem}}))(K));var J=n(59001),Q=n(28284),ee=n(18880);(0,J.configure)({enforceActions:"observed"});const te=function(e){var t=window.location.search;if("signup"===new URLSearchParams(t).get("action")){var n=localStorage.getItem("config.server_url"),r=localStorage.getItem("config.app_id");localStorage.clear(),n&&localStorage.setItem("config.server_url",n),r&&localStorage.setItem("config.app_id",r)}var a=new ee.Z;return function(e){window.addEventListener("storage",(function(t){switch(t.key){case"client.accounts":var n,r,a,o,c=e.client.loginid,i=null===(n=JSON.parse(t.newValue))||void 0===n||null===(r=n[c])||void 0===r?void 0:r.currency,l=null===(a=JSON.parse(t.oldValue))||void 0===a||null===(o=a[c])||void 0===o?void 0:o.currency;document.hidden&&i&&l!==i&&e.client.updateAccountCurrency(i,!1);break;case"active_loginid":document.hidden&&window.location.reload();break;case"reality_check_dismissed":document.hidden&&e.client.setVisibilityRealityCheck(!JSON.parse(t.newValue))}}))}(a),Q.Z.init(a),a.client.init(),a.ui.init(e),a.pushwoosh.init(),a};var ne=n(74495),re=n(46746);function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ce=function(e){var t=e.root_store,n=window.location,r=n.pathname.split("/")[1],a=/^\/(br_)/.test(n.pathname),c=ae((0,d.useOnLoadTranslation)(),1)[0];o.useEffect((function(){t.modules.attachModule("cashier",new(f())({root_store:t,WS:p.Z}))}),[]),o.useEffect((function(){(0,d.initializeTranslations)(),(0,_.setUrlLanguage)((0,d.getLanguage)()),(0,_.initFormErrorMessages)(ne.U),(0,_.setSharedCFDText)(re.B),l(),t.common.setPlatform()}),[]);var l=o.useCallback((function(){if((0,_.isTouchDevice)()&&(0,_.isMobile)()){var e="Android"===(0,_.mobileOSDetect)(),n=e?screen.availWidth:window.innerWidth,r=e?screen.availHeight:window.innerHeight,a=document.getElementById("landscape_blocker");n<=r?(t.ui.onOrientationChange({is_landscape_orientation:!1}),a.classList.remove("landscape-blocker--visible")):(t.ui.onOrientationChange({is_landscape_orientation:!0}),a.classList.add("landscape-blocker--visible"))}}),[t.ui]);o.useEffect((function(){var e=s()(l,400);return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[l]);var m={root_store:t,WS:p.Z};return o.createElement(o.Fragment,null,c?o.createElement(i.BrowserRouter,{basename:a?"/".concat(r):null},o.createElement(g.z1,{store:t},o.createElement(z,null,o.createElement(k.Z,null),o.createElement(w.Z,null,o.createElement(S.Z,null,o.createElement(q,{passthrough:m}))),o.createElement(u.DesktopWrapper,null,o.createElement(N.Z,null)),o.createElement(W.Z,null),o.createElement(y.Z,null),o.createElement(E,null)))):o.createElement(o.Fragment,null))};ce.propTypes={root_store:a().object};if(!(0,_.checkAndSetEndpointFromUrl)()){var ie=te(F),le=document.getElementById("deriv_app");le&&c.render(o.createElement(ce,{root_store:ie}),le)}}}]);